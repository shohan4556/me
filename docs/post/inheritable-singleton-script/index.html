<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.42.2" />
  <meta name="author" content="Shohanur Rahaman">
  <meta name="description" content="Indie Game Developer">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github-gist.min.css">
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather%7CRoboto+Mono">
  <link rel="stylesheet" href="/me/css/hugo-academic.css">
  

  

  <link rel="alternate" href="https://shohan4556.github.io/me/index.xml" type="application/rss+xml" title="Hello !">
  <link rel="feed" href="https://shohan4556.github.io/me/index.xml" type="application/rss+xml" title="Hello !">

  <link rel="icon" type="image/png" href="/me/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/me/img/apple-touch-icon.png">

  <link rel="canonical" href="https://shohan4556.github.io/me/post/inheritable-singleton-script/">

  

  <title>Inheritable Singleton Pattern | Hello !</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/me/">Hello !</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/me/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/me/#posts">
            
            <span>Posts</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/me/#experience">
            
            <span>Experience</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/me/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/me/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        

        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  
<div class="article-header">
  <img src="/me/img/headers/my-unity-setup.png" class="article-banner" itemprop="image">
  <span class="article-header-caption">Image credit: <a href="me" target="_blank"><strong>me</strong></a></span>
</div>



  <div class="article-container">
    <h1 itemprop="name">Inheritable Singleton Pattern</h1>
    

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2018-05-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Tue, May 1, 2018
    </time>
  </span>

  

  
  
  
  <span class="article-tags">
    <i class="fa fa-tags"></i>
    
    <a href="/me/tags/coding">Coding</a
    >, 
    
    <a href="/me/tags/c-sharp">C-Sharp</a
    >, 
    
    <a href="/me/tags/unity-3d">Unity-3D</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fshohan4556.github.io%2fme%2fpost%2finheritable-singleton-script%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Inheritable%20Singleton%20Pattern&amp;url=https%3a%2f%2fshohan4556.github.io%2fme%2fpost%2finheritable-singleton-script%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fshohan4556.github.io%2fme%2fpost%2finheritable-singleton-script%2f&amp;title=Inheritable%20Singleton%20Pattern"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=https%3a%2f%2fshohan4556.github.io%2fme%2fpost%2finheritable-singleton-script%2f&amp;title=Inheritable%20Singleton%20Pattern"
         target="_blank">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Inheritable%20Singleton%20Pattern&amp;body=https%3a%2f%2fshohan4556.github.io%2fme%2fpost%2finheritable-singleton-script%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    <div class="article-style" itemprop="articleBody">
      

<p>সিঙ্গেলেটন একটা পরিচিত এবং জনপ্রিয় ডিজাইন প্যাটার্ন। অনেক সময় মাল্টিপল স্ক্রিপ্ট সিঙ্গেলেটন করতে হয়। একই জিনিস বার লেখা ঝামেলা সেজন্য inheritable singleton script ব্যাবহার করা যেতে পারে।
নিচে আমার নিজের লেখা একটি ইনহেরিটেবল স্ক্রিপ্ট। এই স্ক্রিপ্ট বার বার একই জিনিস লেখার ঝামেলা বাঁচাবে। যদি ছোট প্রোজেক্ট হয় তাহলে কাজে লাগবে না কারন ছোট খাটো প্রোজেক্টে অত বেশি সিঙ্গেলেটন দরকার হয় না সাধারণত।</p>

<pre><code>using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class SingletonBase&lt;T&gt; : MonoBehaviour where T : MonoBehaviour {
 
    private static object slock = new object(); safety 
    private static T sInstance; 

    public static T Instance
    {
        get {
            lock (slock) {
                if(sInstance == null) {
                    sInstance = GameObject.FindObjectOfType&lt;T&gt;(); 
                    if(sInstance == null) {
                        UnityEngine.Debug.LogError(&quot;Expected to find an instance of the &quot; + typeof(T) + &quot; component in the hierarchy but none found!\n&quot;
                                     + &quot;Attach the &quot; + typeof(T) + &quot; component to a GameObject in the hierarchy.&quot;);

                        Abort();
                    }
                    // got the instance
                    DontDestroyOnLoad(sInstance.transform.gameObject);
                }
                return sInstance;
            }
        }
    }

    private static void Abort() {
        #if UNITY_EDITOR
            UnityEditor.EditorApplication.isPlaying = false;
        #endif
    }

    private void Awake() {
        if(Instance != this) {
            Destroy(this.gameObject);
            return;
        }
    }

}
</code></pre>

<h4 id="little-explanation">Little explanation :</h4>

<ol>
<li><p>slock  একটা অবজেক্ট ক্রিয়েট করি ।</p></li>

<li><p><code>Lock ( ….) { }</code> প্রথমে একটি থ্রেড এই ব্লকে ঢুকবে এবং লক করে ফেলবে অন্য কোন থ্রেড কে এখানে ঢুকতে দিবে না যতক্ষণ না এর কাজ শেষ হয়। খাটি বাংলায় এই হচ্ছে মূল কথা । কাজ শেষ হলে slock অবজেক্ট কে রিলিজ করে দিবে অর্থাৎ কাজ শেষ।</p></li>

<li><p>প্রথমে ট্রাই করবো এরকম স্ক্রিপ্ট আরও আছে কিনা খোঁজার যদি না পাই তাহলে একটা এরর মেসেজ দিবো ।
আর যদি পাই তাহলে তো ভালো।</p></li>
</ol>

<h4 id="ক-ভ-ব-ইনহ-র-ট-করত-হব">কিভাবে ইনহেরিট করতে হবে ?</h4>

<pre><code>using System.Collections;
using System.Collections.Generic;
using UnityEngine;
public class UIManager : SingletonBase&lt;UIManager&gt; {

    [SerializeField] private MainMenu mainMenu;
    [SerializeField] private Camera demoCamera;
 
    private void Update() {
        if (Input.GetKeyDown(KeyCode.Space)) {
            Debug.Log(&quot;fadeout UI manager&quot;);
            mainMenu.FadeOut();
        }
    }

    public void setDemoCameraActive(bool flag) {
        demoCamera.gameObject.SetActive(flag);
    }
}
</code></pre>

<ul>
<li>রেফারেন্স ঃ</li>
</ul>

<ol>
<li><a href="https://www.codeproject.com/Articles/572263/A-Reusable-Base-Class-for-the-Singleton-Pattern-in" target="_blank">https://www.codeproject.com/Articles/572263/A-Reusable-Base-Class-for-the-Singleton-Pattern-in</a></li>
<li><a href="http://www.yoda.arachsys.com/csharp/singleton.html" target="_blank">http://www.yoda.arachsys.com/csharp/singleton.html</a></li>
<li><a href="http://wiki.unity3d.com/index.php/Singleton" target="_blank">http://wiki.unity3d.com/index.php/Singleton</a></li>
</ol>

<hr />

<p>follow me on <a href="https://www.facebook.com/shohan4556" target="_blank">facebook</a></p>

<p>follow me on <a href="https://www.twitter.com/shohan4556" target="_blank">twitter</a></p>

<p>follow me on <a href="https://www.github.com/shohan4556" target="_blank">github</a></p>

    </div>
  </div>

</article>



<div class="article-container">
  <h3>Related</h3>
  <ul>
    
    <li><a href="/me/post/unity-tips-1/">Unity Tips - 01</a></li>
    
    <li><a href="/me/post/genetic-algo-with-machine-learning/">Genetic Algorithm With Machine Learning</a></li>
    
    <li><a href="/me/post/my-setup-in-unity3d/">আমার Unity3D সেটআপ</a></li>
    
    <li><a href="/me/post/game-ai-fsm/">Game AI - Finite State Machine</a></li>
    
    <li><a href="/me/post/generic-class/">Intermediate C# - Generic Class</a></li>
    
  </ul>
</div>


<div class="container">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="https://shohan4556.github.io/me/post/genetic-algo-with-machine-learning/"><span
      aria-hidden="true">&larr;</span> Genetic Algorithm With Machine Learning</a></li>
    

    
    <li class="next"><a href="https://shohan4556.github.io/me/post/project-pirate-dev-log-1/">Project Pirate Dev Log - 01 <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

</div>

<div class="article-container">
  

</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 Shohan &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha512-jGsMH83oKe9asCpkOVkBnUrDDTp8wl+adkB2D+//JtlxO4SrLoJdhbOysIFQJloQFD+C4Fl1rMsQZF76JjV0eQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.2/imagesloaded.pkgd.min.js" integrity="sha512-iHzEu7GbSc705hE2skyH6/AlTpOfBmkx7nUqTLGzPYR+C1tRaItbRlJ7hT/D3YQ9SV0fqLKzp4XY9wKulTBGTw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js" integrity="sha512-Z5heTz36xTemt1TbtbfXtTq5lMfYnOkXM2/eWcTTiLU01+Sw4ku1i7vScDc8fWhrP2abz9GQzgKH5NGBLoYlAw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/plugins/ScrollToPlugin.min.js" integrity="sha512-CDeU7pRtkPX6XJtF/gcFWlEwyaX7mcAp5sO3VIu/ylsdR74wEw4wmBpD5yYTrmMAiAboi9thyBUr1vXRPA7t0Q==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    <script src="/me/js/hugo-academic.js"></script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/go.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/lisp.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/ocaml.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/c#.min.js"></script>
      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

